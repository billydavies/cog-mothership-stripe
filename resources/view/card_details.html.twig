{% extends 'Message:Mothership:Ecommerce::checkout:checkout-layout' %}

{% block javascripts %}
	{{ parent() }}
	{% javascripts
		'@Message:Mothership:Stripe::resources:assets:js:stripeToken.js'
		'@Message:Mothership:Stripe::resources:assets:js:stripeResponse.js'
		output='/assets/js/stripe.js'
		filter='?jsmin'
	%}
		<script src="{{ asset_url }}"></script>
		<script type="text/javascript" src="https://js.stripe.com/v2/"></script>
		<script type="text/javascript">
			Stripe.setPublishableKey('{{ publishableKey }}');
		</script>
	{% endjavascripts %}
{% endblock %}

{% block content %}
	{{ form_start(form, {'attr': {'id': 'payment-form'}}) }}
	{#<form action="" method="POST" id="payment-form">#}

	{# Form elements not defined in form class as they need to have no name attribute and SF2 does not support this #}
		<span class="payment-errors"></span>

		<div class="form-row">
			<label>
				<span>Card Number</span>
				<input type="text" size="20" data-stripe="number"/>
			</label>
		</div>

		<div class="form-row">
			<label>
				<span>CVC</span>
				<input type="text" size="4" data-stripe="cvc"/>
			</label>
		</div>

		<div class="form-row">
			<label>
				<span>Expiration (MM/YYYY)</span>
				<input type="text" size="2" data-stripe="exp-month"/>
			</label>
			<span> / </span>
			<input type="text" size="4" data-stripe="exp-year"/>
		</div>

		<button type="submit">Submit Payment</button>
	{#</form>#}
	{{ form_end(form) }}
{% endblock %}